(function(e,r,m){var v,i,t=Date.now(),b={},c={},u={},s={},f={},k=".js",x=".json",n=function(e){return s[e]},S=function(){},O=function(r,e,t){if(b[r]&&!p(b[r]))return b[r];var n=j(r)||k,i=f[n];switch(i&&(e=i(r,e)),n){case k:var u,o={exports:{}},s={},a=e.call(t?{}:s,o.exports,T,o,O,function(e){return u=T(e)},_)||o.exports;return u&&(a=F(a,u)),"function"==typeof a&&(a.extend=y),s.load&&s.load(a),s.update&&(c[r]=[s.update,a]),r?b[r]=d(b[r],a):a;case x:try{return b[r]=JSON.parse(e)}catch(e){return console.error(r,e.message)}default:return b[r]=e}},a={run:S,inherit:S,reload:S,parse:S,define:O,import:S,export:S,env:n,ajax:S},o="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e,100)}:requestAnimationFrame,A=function(e){return e.substring(e.indexOf("{")+1,e.lastIndexOf("}"))},j=function(e){if(!e)return null;var r=e.lastIndexOf(".");return-1!==r&&-1===e.indexOf("/",r)?e.substr(r):null},l=function(r,t){if(!r.length)return t();w(r.shift(),function(e){if(e)return t(e);l(r,t)})},w=function(n,i){if(b[n]=b[n]||_.import(n),b[n])return i(null,b[n]);var e=n.indexOf("/"),r=~e?u[n.slice(0,e)]:0,t=r?n.slice(e+1):n;(r=r||u["~"]||"")instanceof Function?r(t,function(e,r){if(e)return i(e);C(n,r,i)}):_.ajax("get",r+t+(j(n)?"":k),null,null,function(e,r,t){if(4===r)return e?i(e):void C(n,t,i)})},h=function(e){return Object.defineProperties(Function("return arguments.callee.__proto__.apply(this,arguments)"),{name:{value:e},i:{value:t}})},p=function(e){return"function"==typeof e&&t===e.i},d=function(e,r){return e&&e!==r?(p(e)&&(e.prototype=r.prototype),e.__proto__=r,e):r},g=function(e){return p(e)?e.__proto__:e},y=function(e,r){return e?F(e,this,r):this},F=function(e,r,t){var n,i,u=g(e),o=g(r),s=typeof u,a=typeof o;switch(s){case"function":i=(n=u).prototype;break;case"object":if(s==a)return u.__proto__=o,u;n=function(){return o.apply(this,arguments)},i=u;break;default:return u}switch(Object.assign(n,o,g(t)),a){case"function":return n.prototype=Object.assign(Object.create(o.prototype),i,{constructor:o}),n;case"object":return n.prototype=Object.assign(Object.create(o),i),n;default:return u}},T=function(e,r){var t=b[e];return void 0===t?r?w(e,r):b[e]=h(e):(r&&setTimeout(r,0,null,t),t)},N=function(r,e,t,n){n=n||a;var i=r?'"use strict";\n'+e+(s.live?"":"//# sourceURL="+r):e,u=function(e){return b[e]||t.push(e),b[e]};try{var o=Function("exports","require","module","define","inherit","pico",i)}catch(e){return console.error(r,e.message)}return o.call({},{},u,{},O,u,n),o},C=function(r,e,t){if(t=t||S,b[r])return t(null,b[r]);if(k!==(j(r)||k))return t(null,O(r,e));var n=[],i=N(r,e,n);r&&(b[r]=h(r)),l(n,function(e){if(e)return t(e);t(null,O(r,i))})},D=function(e){var r;for(var t in c)(r=c[t])&&r[0](r[1],e);o(D)},_=e[r]={run:function(e,r){var t;for(var n in _.ajax=e.ajax||_.ajax,u=e.paths||u,s=e.env||s,f=e.preprocessors||f,i=e.importRule,b)(t=f[j(n)||k])&&(b[n]=t(n,b[n]));(e.onLoad||function(){arguments[arguments.length-1]()})(function(){C(e.name||null,A(r.toString()),function(e,r){if(e)return console.error(e);r&&r(),v&&v(),o(D)})})},reload:function(t,e,n){"function"==typeof e&&(n=e),n=n||S;var r=function(e,r){if(e)return n(e);n(null,b[t]=d(b[t],r))};delete b[t],n===e?w(t,r):C(t,e,r)},parse:C,define:O,import:function(r){if(Array.isArray(i)&&i.some(function(e){return e.match(r)}))return m(r)},export:T,env:n};O("pico/func",function(e,r,t,n,i,u){function s(e,r){for(var t,n=r[0],i=[],u=0;t=r[u];u++)i.push(t.toString());return{typeName:n.getTypeName(),functionName:n.getFunctionName(),methodName:n.getMethodName(),fileName:n.getFileName(),line:n.getLineNumber(),column:n.getColumnNumber(),evalOrigin:n.getEvalOrigin(),isTopLevel:n.isToplevel(),isEval:n.isEval(),isNative:n.isNative(),isConstructor:n.isConstructor(),trace:i}}return{reflect:function e(r,t){var n=Error.prepareStackTrace,i=Error.stackTraceLimit;Error.prepareStackTrace=s,Error.stackTraceLimit=t||1;var u=new Error;Error.captureStackTrace(u,r||e);var o=u.stack;return Error.stackTraceLimit=i,Error.prepareStackTrace=n,o}}}),O("pico/json",function(e,r,t,n,i,u){return{parse:function(t,n){return JSON.parse(t[0],function(e,r){switch(e[0]){case"$":if(n)return JSON.parse(t[r]);case"_":return t[r];default:return r}})},stringify:function(e,t){var n=[];return n.unshift(JSON.stringify(e,function(e,r){switch(e[0]){case"$":if(t)return n.push(JSON.stringify(r));case"_":return n.push(r);default:return r}})),n},path:function(e){var l=e;function h(e,r){return r<0?(e.length||0)+r:r}return function e(){if(!arguments.length)return l;var r=Array.isArray(l);switch(typeof arguments[0]){case"string":var t=arguments[0];switch(t){default:if(r){if(!l[0][t])break;l=l.map(function(e){return e[t]})}else{if(!l[t])break;l=l[t]}break;case"..":l=function e(r,t){if(r&&t&&"object"==typeof t){if(t[r])return t[r];for(var n,i,u=[],o=Object.keys(t),s=0;i=o[s];s++)(n=e(r,t[i]))&&(Array.isArray(n)?u.push.apply(u,n):u.push(n));return u.length?u:void 0}}(arguments[1],l)||l;break;case"*":if(r)break;l=Object.keys(l).map(function(e){return l[e]})}break;case"object":var n=arguments[0];if(!Array.isArray(n))break;l=n.map(function(e){return l[h(l,e)]});break;case"number":for(var i=h(l,arguments[0]),u=h(l,arguments[1])||l.length-1||0,o=arguments[2]||1,s=[],a=[],c=i;c<=u;c+=o)s.push(l[c]),a.push(c);l=s;break;case"function":var f=arguments[0];l=r?l.map(f):f(l)}return Array.isArray(l)&&(l=l.filter(function(e){return null!=e})),1===l.length&&(l=l.pop()),e}}}}),O("pico/obj",function(){var h=["object","function"],p=["constructor"],c=[!0,!1,1,0,null];function f(e,r,t){if(!Array.isArray(r))return l(e,r,t);if(e){for(var n,i,u=0;i=r[u];u++)if(t&&t.push({}),n=l(e,i,t&&t[u]))return[u,n].join(".")}else t&&Array.prototype.push.apply(t,r)}function l(e,r,t){if(Array.isArray(r))return f(e,r,t);for(var n,i,u,o,s=Object.keys(e),a=0;o=s[a];a++){if(n=e[o],null==(i=r[o])&&n.required)return o;switch(n.type||n){case"string":if(!i.charAt)return o;t&&(t[o]=i);break;case"number":if(i=parseFloat(i),!isFinite(i))return o;t&&(t[o]=i);break;case"boolean":if(!c.includes(i))return o;t&&(t[o]=!!i);break;case"object":if(!(i instanceof Object)||Array.isArray(i))return o;if(t&&(t[o]={}),n.spec){if(u=l(n.spec,i,t&&t[o]))return[o,u].join(".")}else t&&Object.assign(t[o],i);break;case"array":if(!(i instanceof Object&&Array.isArray(i)))return o;if(t&&(t[o]=[]),u=f(n.spec,i,t[o]))return[o,u].join(".");break;case"null":if(null!==i)return o;t&&(t[o]=null);break;default:return o}}}return{extend:function e(r,t,n){var i=h.indexOf(typeof r),u=h.indexOf(typeof t);if(1===i&&(i=h.indexOf(typeof r.__proto__)),1===u&&(u=h.indexOf(typeof t.__proto__)),!r||null===t||-1===u&&u===i)return void 0===t?r:t;if(1===u)return u===i&&(t.prototype=r),t;var o,s,a=(n=n||{}).tidy;if(Array.isArray(t))if(n.mergeArr){var c,f,l={};for(c=0,f=(r=r||[]).length;c<f;c++)void 0===(s=r[c])&&a||(l[s]=s);for(c=0,f=t.length;c<f;c++)void 0===(s=t[c])&&a||(l[s]=s);for(o in r=[],l)r.push(l[o])}else r=t;else for(o in r=r||{},t)s=t[o],~p.indexOf(o)||void 0===s&&a||(r[o]=e(r[o],s,n));return r},extends:function(e,r,t){for(var n,i=this.extend,u=0;n=r[u];u++)e=i(e,n,t);return e},parseInts:function(e,r){for(var t=0,n=e.length;t<n;t++)e[t]=parseInt(e[t],r);return e},pluck:function(e,r){var t=[];if(e.length){var n,i,u,o,s,a={};for(u=0,o=e.length;u<o;u++)(n=e[u])&&void 0!==(i=n[r])&&(a[i]=i);for(s in a)t.push(a[s])}return t},dot:function e(r,t,n){if(!t||!t.length)return r;var i,u=t.shift();if(Array.isArray(u))for(var o,s=0;(o=u[s])&&!(i=r[o]);s++);else i=r[u];return i?e(i,t,n):n},validate:l}}),O("pico/str",function(){var e=Math.random;function o(e){var r=e.search(/[#:%][a-zA-Z]/);switch(r){case-1:case 0:return e}return[e.substring(0,r),e.substr(r)]}function u(t,n,i){if(!t.length)return i(null,n);!function e(r,t,n,i){var u=r.indexOf("/",t);if(-1===u)return n.push(o(r.substring(t))),i(null,n);n.push(o(r.substring(t,u))),e(r,u+1,n,i)}(t.shift(),0,[],function(e,r){if(e)return i(e);n.push(r),u(t,n,i)})}function s(e,r,t,n,i){switch(e[0]){default:return e===r;case"%":i[e.substr(1)]=parseFloat(r);break;case":":i[e.substr(1)]=r;break;case"#":i[e.substr(1)]=t.slice(n).join("/")}return!0}function a(e,r,t){if(e.length<r.length)return!1;for(var n,i,u=0,o=r.length;u<o;u++)if(i=r[u],n=e[u],Array.isArray(i)){if(0!==n.indexOf(i[0]))return!1;if(!s(i[1],n.substr(i[0].length),e,u,t))return!1}else if(!s(i,n,e,u,t))return!1;return e.splice(0,o),!0}function c(e,r,t,n,i,u){if(r.length<=t)return e;var o=r[t++];if(!o.charAt)return c(c(e+i,o,0,n,"",u),r,t,n,i,u);if(1<o.length)switch(o.charAt(0)){case"%":case":":case"#":if(!(o=n[o.slice(1)]))return u?"":e}return c(e+=i+o,r,t,n,i,u)}return{codec:function(e,r){for(var t,n=0,i="";t=r.charCodeAt(n);n++)i+=String.fromCharCode(t^e);return i},hash:function(e){for(var r,t=0,n=0;r=e.charCodeAt(t);t++)n=(n<<3)-n+r|0;return n},rand:function(){return e().toString(36).substr(2)},pad:function(e,r,t){return this.tab(e,r,t)+e},tab:function(e,r,t){var n=r-String(e).length+1;return Array(0<n?n:0).join(t||"0")},template:function(e){for(var r,t=/<%(.+?)%>/g,n=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,i="var r=[];\n",u=0,o=function(e,r){return i+=r?e.match(n)?e+"\n":"r.push("+e+");\n":""!==e?'r.push("'+e.replace(/"/g,'\\"')+'");\n':"",o};r=t.exec(e);)o(e.slice(u,r.index))(r[1],!0),u=r.index+r[0].length;return o(e.substr(u,e.length-u)),function(r){return function(e){return r(_,e)}}(new Function("pico","d",(i+'return r.join("");').replace(/[\r\t\n]/g," ")))},compileRest:function(e,t){return t=t||[],-1===e.search(/[|#:%][a-zA-Z]/)||u(e.split("|"),[e],function(e,r){if(e)throw e;t.push(r)}),t},execRest:function(e,r,t){for(var n,i,u,o=e.split("/"),s=0;n=r[s];s++)if(a(o,n[1],t)){for(i=2;(u=n[i])&&a(o,u,t);i++);return n[0]}return null},buildRest:function(e,r,t,n){for(var i,u,o=0;u=r[o];o++)if(e===u[0]){i=u;break}if(!i)return e;var s,a=c("",i[1],0,t,"/",!0);if(!a)return!1;for(o=2;s=i[o];o++)a=c(a,s,0,t,"/");return(n||1===a.indexOf("http"))&&(a=a.slice(1)),!~a.search(/[#%][a-zA-Z]/)&&a}}}),O("pico/time",function(){var u=Math.max,o=Math.min,v=Math.floor,s=Math.ceil,a=function(e,r){return(e-r)/864e5},c=function(e,r,t){var n=r?1:0,i=new Date(e.getFullYear()+(t||0),0,1),u=(7-i.getDay())%7+n,o=a(e,i);return u<o?s((o-u)/7):c(e,r,-1)},p=function(e,r,t){var n=e.split("/"),i=n[0];return"*"===i?n[0]=r:(i=parseInt(i),i=u(r,i),i=o(t,i),n[0]=i),1===n.length?n.push(0):n[1]=parseInt(n[1]),n},f=function(e,r,t){if("*"===e)return 0;for(var n,i,u,o,s,a,c,f=[],l=e.split(","),h=0;n=l[h];h++)if(u=n.split("-"),o=p(u[0],r,t),1!==u.length)if(s=p(u[1],r,t),i=o[0],a=s[0],c=s[1]||1,a<i)for(;a<=i;i-=c)f.push(i);else for(;i<=a;i+=c)f.push(i);else if(c=o[1])for(i=o[0];i<=t;i+=c)f.push(i);else f.push(o[0]);return f.sort(function(e,r){return e-r}),f},m=function(e,r,t){if(!r)return e;if(u.apply(Math,r.concat(e))===e)return e+(t-e)+o.apply(Math,r);for(var n=0,i=r.length;n<i;n++)if(r[n]>=e)return r[n];console.error("not suppose to be here",e,r,t)},b=function(e,r,t,n,i,u,o,s,a){if(3<r++)return a(0);var c=m(e.getMinutes(),t,60),f=m(e.getHours()+v(c/60),n,24),l=e.getDate(),h=e.getMonth(),p=e.getFullYear(),d=new Date(p,h,0).getDate();if(o){var g=e.getDay()+v(f/24);l+=m(g,o,7)-g}else l=m(l+v(f/24),i,d);if(h=m(h+1+v(l/d),u,12),e.getMonth()+1!==h)return b(new Date(p,h-1),r,t,n,i,u,o,s,a);if(p=m(p+v((h-1)/12),s,0),e.getFullYear()!==p)return b(new Date(p,h-1),r,t,n,i,u,o,s,a);var y=new Date(p,(h-1)%12).getTime();return y+=864e5*(l%d-1),y+=f%24*36e5,a(y+=c%60*6e4)};return{parse:function(e){var r=e.split(" ");if(r.length<6)return 0;var t=f(r[0],0,59);if(null==t)return 0;var n=f(r[1],0,23);if(null==n)return 0;var i=f(r[2],1,31);if(null==i)return 0;var u=f(r[3],1,12);if(null==u)return 0;var o=f(r[4],0,6);if(null==o)return 0;var s=f(r[5],1975,2075);return null==s?0:[t,n,i,u,o,s]},nearest:function(e,r,t,n,i,u,o){return o=o||Date.now(),b(new Date(o+9e4),0,e,r,t,n,i,u,function(e){return e})},daynum:a,weeknum:c,day:function(e,r){var t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),12,0,0)-e;return 0<=n&&n<=1296e5||n<=0&&-1296e5<n?t.getDate()===e.getDate()?"Today":e<t?"Yesterday":"Tomorrow":(r=r||"en-US",t.getFullYear()===e.getFullYear()&&c(t)===c(e)?e.toLocaleDateString(r,{weekday:"long"}):e.toLocaleDateString(r,{weekday:"short",month:"short",day:"numeric"}))}}}),O("pico/web",function(e,r,t,n,i,c){var p=r("pico/json"),d=Math.abs,u=Math.floor,o=Math.random,f=!0,s=function(e){e&&console.error(e)},g=function(e,r,t){e.append(r,t)},y=function(e,r,t){e[r]=t},v=function(i,u){u=u||s,c.ajax("get",i.url,null,null,function(e,r,t){if(4===r){if(e)return u(e);var n=parseInt(t);if(isNaN(n))return u("invalid timesync response");i.serverTime=n,i.serverTimeAtClient=Date.now(),u()}})},l=function(e,r,t,n){switch(e&&4===r&&v(n),r){case 2:n.head=null,n.currPT=1,n.resEndPos=0}if(t){var i,u=n.resEndPos,o=-1,s=n.delimiter,a=s.length,c=n.body;try{for(;-1!==(o=t.indexOf(s,u));){switch(n.currPT){case 1:n.head=JSON.parse(t.substring(u,o)),c.length=0,n.currPT=2;break;case 2:c.push(t.substring(u,o))}if((i=n.head)&&i.len===c.length){if(n.currPT=1,i.resId&&n.request("ack",{resId:i.resId}),!i.reqId)return void console.error("incomplete response header: "+JSON.stringify(i));if(n.cullAge&&n.cullAge<d(n.getServerTime()-i.date))return void console.error("invalid server time: "+JSON.stringify(i)+" "+d(n.getServerTime()-i.date));if(n.secretKey&&c.length){for(var f=CryptoJS.algo.HMAC.create(CryptoJS.algo.MD5,n.secretKey+i.date),l=0,h=c.length;l<h;l++)f.update(c[l]);if(i.key!==f.finalize().toString(CryptoJS.enc.Base64))return void console.error("invalid server key: "+JSON.stringify(i))}i.len&&(i.data=p.parse(c,!0)),n.inbox.push(i),n.head=null}u=o+a}}catch(e){console.error(e)}n.resEndPos=4===r?0:u}},m=function(e,r,t,n,i){n=n||"",i=i||"";for(var u,o,s,a,c=e instanceof FormData?g:y,f=r.baseURI,l=0,h=r.elements;a=h[l];l++)if(a.hasAttribute("name"))if("FILE"===(u=a.hasAttribute("type")?a.getAttribute("type").toUpperCase():"TEXT"))for(o=0,s=a.files.length;o<s;c(e,n+a.name,a.files[o++]));else("RADIO"!==u&&"CHECKBOX"!==u||a.checked)&&c(e,n+a.name,a.value);if(t)for(var p in t)c(e,i+p,t[p]);return f=f.substring(0,f.lastIndexOf("/")+1),r.action.substr(f.length)},a=function(e,r){e.url=r.url||e.url,e.secretKey=r.secretKey||e.secretKey,e.cullAge=r.cullAge||e.cullAge,e.delimiter=r.delimiter?JSON.stringify(r.delimiter):e.delimiter};function h(e){if(!e.url)return console.error("url is not set");a(this,Object.assign({cullAge:0,delimiter:["&"]},e)),this.reqId=1+u(1e3*o()),this.inbox=[],this.outbox=[],this.uploads=[],this.callbacks={},this.acks=[],this.reqs=[],this.resEndPos=0,this.head=null,this.body=[],this.currPT=1,this.serverTime=0,this.serverTimeAtClient=0}return h.prototype={beat:function(){if(this.inbox.length)for(var e,r,t,n=this.inbox,i=this.callbacks;t=n.pop();)(r=i[e=t.reqId])&&(delete i[e],r(t.error,t.data));if(f&&(this.uploads.length||this.outbox.length||this.acks.length)){var u=this.uploads,o=this.outbox,s=this.acks;if(u.length)c.ajax("post",this.url,u.shift(),null,l,this);else{var a=this.reqs=s.concat(o);s.length=o.length=0,c.ajax("post",this.url,a.join(this.delimiter)+this.delimiter,null,l,this)}}},reconnect:function(e,r){a(this,e),function(e){e.resEndPos=e.outbox.length=e.acks.length=0,e.currPT=1}(this),v(this,function(e){r(e,this)})},submit:function(e,r,t){if(!("undefined"!=typeof window&&e&&e instanceof HTMLFormElement))return console.error("No HTMLFormElement submitted");var n=0;t&&(n=this.reqId++,this.callbacks[n]=t);var i=new FormData;i.append("api",m(i,e,r,"data/","cred/")),i.append("reqId",n),this.uploads.push(i)},request:function(e,r,t,n){switch(arguments.length){case 2:r instanceof Function&&(n=r,r=t=void 0);break;case 3:t instanceof Function&&(n=t,t=void 0);break;case 4:break;default:return console.error("wrong request params!")}if("undefined"!=typeof window&&r instanceof HTMLFormElement){var i={};e=m(i,r),r=i}if(!e)return console.error("Missing api,  data["+JSON.stringify(r)+"]");var u=this.acks;if("ack"!==e&&(u=this.outbox).length){var o=u.shift();-1===o.indexOf(e)&&u.unshift(o)}var s=0;n&&(s=this.reqId++,this.callbacks[s]=n);var a=r?p.stringify(r,!0):[];if(a.unshift(JSON.stringify(t)),a.length&&this.secretKey){for(var c=this.getServerTime(),f=CryptoJS.algo.HMAC.create(CryptoJS.algo.MD5,this.secretKey+c),l=0,h=a.length;l<h;l++)f.update(a[l]);a.unshift(JSON.stringify({api:e,reqId:s,len:a.length,date:c,key:f.finalize().toString(CryptoJS.enc.Base64)}))}else a.unshift(JSON.stringify({api:e,reqId:s,len:a.length}));u.push(a.join(this.delimiter))},getServerTime:function(){return this.serverTime+(Date.now()-this.serverTimeAtClient)},test:function(e){v(this,e)}},{create:function(e,r){var t=new h(e);return v(t,function(e){r&&r(e,t)}),t},online:function(){f=!0},offline:function(){f=!1}}}),"object"==typeof process&&(_.ajax=_.ajax||function(e,r,t,n,i,u){var o=m("fs").readFileSync(r,"utf8");if(o)return setImmediate(i,null,4,o,u);setImmediate(i,"failed",4,null,u)}),O("pico/build",function(){var s="pico.define('URL','FUNC')\n",a=/['\n\r]/g,r={"'":"&#039;","\n":"\\n","\r":"\\n"},y=function(e){return r[e]};return function(t){var c=m("fs"),f=m("path"),l=t.shift(),h=t.shift(),u=O;function p(e,r){if(r&&r.length)return c.appendFileSync(e,c.readFileSync(r.shift())),c.appendFileSync(e,";\n"),p(e,r)}function d(r,t){if(!r||!r.length)return t();w(r.shift(),function(e){if(e)return t(e);d(r,t)})}function g(n,i){O=function(e,r,t){if(u(e,r,t,!0),e&&-1===i.indexOf(e))switch(j(e)||k){case k:return c.appendFileSync(n,s.replace("URL",e).replace("'FUNC'",r.toString()));case x:return c.appendFileSync(n,s.replace("URL",e).replace("FUNC",JSON.stringify(JSON.parse(r)).replace(a,y)));default:return c.appendFileSync(n,s.replace("URL",e).replace("FUNC",r.replace(a,y)))}}}D=S;var n=t.shift(),i=f.join(h,n.entry+k),o=n.exclude||[];g(i,o),c.unlink(i,function(){p(i,n.deps);var e=c.readFileSync(f.join(l,n.entry+k)),r=N(null,e,[],_);~o.indexOf(n.entry)||(v=function(){d(n.include,function(e){if(e)return console.error(e);c.appendFileSync(i,A(r.toString())),function n(i,u,o){if(!i||!i.length)return o;b=Object.assign({},u);var s=i.shift(),a=f.join(h,s.entry+k);g(a,s.exclude||[]),c.unlink(a,function(){p(a,s.deps),d(s.include,function(e){if(e)return console.error(e);var r=c.readFileSync(f.join(l,s.entry+k)),t=N(null,r,[],_);C(s.entry,r,function(e){if(e)return o(e);c.appendFileSync(a,A(t.toString())),n(i,u,o)})})})}(t,Object.assign({},b),function(){process.exit()})})})})}}),O("pico/test",function(){var t,n,s=_.export("pico/str"),i=void 0!==m,u=i?m("util").inspect:JSON.stringify,o=!0;function a(e,r,t,n){e&&(console.log(r+":"+s.tab(r,100,".")+u(n,{colors:!0})),t&&console.error(t))}function c(e,n,r,i){var u=Date.now();e.run(e,r,function(e,r,t){return t.push(Date.now()-u),a(i,n,e,r),{msg:n,error:e,result:r,extra:t}})}function f(r,e,t,n,i){function u(){e.call(this,function(e){r.merge(t,e,i)}),n.call(this)}u.prototype=e.prototype,r.branch(function(){new u})}function l(i,u,o,s,a){if(u.length<=o)return a(null,s.slice());u[o++].apply(i,s.concat([function(e,r){if(e)return a(e);if(r){s.length=r.length;for(var t=0,n=s.length;t<n;t++)s[t]=r[t]}l(i,u,o,s,a)}]))}function e(e,r){if(!e.beginPending)return r(null,e.args.slice());e.beginCallbacks.push(r),1===e.beginCallbacks.length&&l(e,e.begins,0,e.args,function(r,t){e.beginPending=!1,e.beginCallbacks.forEach(function(e){e(r,t.slice())}),e.beginCallbacks.length=0})}function h(e,r){l(e,e.ends,0,e.args,r),e.begins.length=0,e.befores.length=0,e.afters.length=0,e.ends.length=0}function p(e,r,t){l(e,e.befores,0,r,t)}function d(e,r,t){l(e,e.afters,0,r,t)}function r(){this.beginPending=!0,this.beginCallbacks=[],this.begins=[],this.ends=[],this.befores=[],this.afters=[],this.args=[]}function g(e){r.call(this),this.summary={total:0,suceeded:0,failed:0,error:0},this.results=[],this.done=e}function y(e){g.call(this,e),this.queue=[],this.running=!1}r.prototype={begin:function(e){this.begins.push(e)},end:function(e){this.ends.push(e)},before:function(e){this.befores.push(e)},after:function(e){this.afters.push(e)},test:function(e,r){c(this,e,r)},series:function(e,r){f(this,y,e,r)},parallel:function(e,r){f(this,g,e,r)}},g.prototype=Object.assign({run:function(r,n,i){var u=this,o=u.summary,s=u.results;e(u,function(e,t){if(e)return i(e);o.total++,setTimeout(function(e){p(u,t,function(){n.apply(r,t.concat([e]))})},0,function(e,r){s.push(i(e,r,Array.prototype.slice.call(arguments,2))),e?o.error++:r?o.suceeded++:o.failed++,d(u,t,function(){if(o.total===o.suceeded+o.failed+o.error)return h(u,function(){u.done({summary:o,results:s})})})})})},branch:function(e){this.summary.total+=1,setTimeout(e,0)},merge:function(e,r,t){var n=this.summary;n.total-=1;var i=r.summary;n.total+=i.total,n.suceeded+=i.suceeded,n.failed+=i.failed,n.error+=i.error;var u=this.results,o=r.results;r.results.unshift({msg:e}),function r(t,e,n){t&&e.forEach(function(e){return Array.isArray(e)?r(t,e,n+1):null==e.result?console.log(s.pad(e.msg,n+e.msg.length,"#")):void a(t,e.msg,e.err,e.result)})}(t,r.results,0),u.push(o),n.total===n.suceeded+n.failed+n.error&&this.done({summary:n,results:u})}},r.prototype),y.prototype=Object.assign({run:function(r,n,i,u){var o=this,s=o.queue,a=o.summary,c=o.results;e(o,function(e,t){return e?i(e):(a.total+=u?0:1,!u&&s.length||o.running?s.push([r,n,i,1]):(o.running=!0,void setTimeout(function(e){p(o,t,function(){n.apply(r,t.concat([e]))})},0,function(e,r){c.push(i(e,r,Array.prototype.slice.call(arguments,2))),e?a.error++:r?a.suceeded++:a.failed++,d(o,t,function(){if(a.total===a.suceeded+a.failed+a.error)return h(o,function(){o.done({summary:a,results:c})});o.running=!1,o.run.apply(o,s.shift())})})))})},branch:function(e){this.summary.total+=1;var r=this.queue;if(this.running)return r.push([null,e,function(){},1]);this.running=!0,setTimeout(e,0)},merge:function(e,r,t){this.running=!1,g.prototype.merge.call(this,e,r,t)}},r.prototype);var v=new g(function(e){var r=e.summary;o&&console.log("\nSummary:",r),t&&m("fs").writeFileSync(t,JSON.stringify(e)),n&&n(e),i&&process.exit(r.failed+r.error)});return{setup:function(e){n=e.end,o=e.stdout,t=i&&e.fname},test:function(e,r){c(v,e,r,o)},series:function(e,r){f(v,y,e,r,o)},parallel:function(e,r){f(v,g,e,r,o)}}})}).apply(null,"object"==typeof module?[module,"exports",require]:[window,"pico"]);
//# sourceMappingURL=bin/pico-cli.min.js.map